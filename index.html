<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XILK Blog</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        @font-face {
            font-family: 'Cascadia Code';
            src: url('codefont/woff2/CascadiaCode.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        @font-face {
            font-family: 'Cascadia Code';
            src: url('codefont/woff2/CascadiaCodeItalic.woff2') format('woff2');
            font-weight: normal;
            font-style: italic;
            font-display: swap;
        }

        @font-face {
            font-family: 'Cascadia Code';
            src: url('codefont/woff2/CascadiaCodeNF.woff2') format('woff2');
            font-weight: bold;
            font-style: normal;
            font-display: swap;
        }

        @font-face {
            font-family: 'Consolas';
            src: url('Consolas-Font/Consolas.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        body {
            font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
            font-display: swap;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
            color: #d4d4d4;
            overflow-x: hidden;
            min-height: 100vh;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        /* Background Video */
        .background-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -2;
        }

        /* Modern overlay with gradient */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(15, 15, 35, 0.8) 0%, rgba(26, 26, 46, 0.6) 50%, rgba(83, 52, 131, 0.4) 100%);
            backdrop-filter: blur(10px);
            z-index: -1;
        }

        /* Lightning effects */
        .lightning {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .lightning::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
            animation: lightning 3s infinite;
        }

        @keyframes lightning {
            0%, 90%, 100% { opacity: 0; }
            5%, 85% { opacity: 1; }
        }

        @keyframes electricPulse {
            0% {
                box-shadow: 0 0 20px rgba(0, 191, 255, 0.6), 0 0 40px rgba(0, 191, 255, 0.3), 0 0 60px rgba(0, 191, 255, 0.1), inset 0 0 20px rgba(0, 191, 255, 0.2);
                border-color: #00bfff;
            }
            100% {
                box-shadow: 0 0 30px rgba(0, 191, 255, 0.8), 0 0 60px rgba(0, 191, 255, 0.4), 0 0 90px rgba(0, 191, 255, 0.2), inset 0 0 30px rgba(0, 191, 255, 0.3);
                border-color: #87ceeb;
            }
        }

        /* Dark frosted glass header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 30px 20px;
            z-index: 100;
            text-align: center;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.7) 0%, rgba(15, 23, 42, 0.6) 50%, rgba(0, 0, 0, 0.7) 100%);
            backdrop-filter: blur(8px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .xilk-logo {
            font-size: 3.5rem;
            font-weight: 700;
            color: #ffffff;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            display: inline-block;
            letter-spacing: 4px;
            text-shadow: 
                0 0 10px rgba(255, 255, 255, 0.8),
                0 0 20px rgba(255, 255, 255, 0.6),
                0 0 30px rgba(255, 255, 255, 0.4),
                0 0 40px rgba(255, 255, 255, 0.2);
            filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.3));
        }

        .xilk-logo:hover {
            transform: scale(1.1) translateY(-2px);
            text-shadow: 
                0 0 15px rgba(255, 255, 255, 1),
                0 0 30px rgba(255, 255, 255, 0.8),
                0 0 45px rgba(255, 255, 255, 0.6),
                0 0 60px rgba(255, 255, 255, 0.4);
            filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.5)) brightness(1.3);
        }

        /* Main content */
        .main-content {
            margin-top: 140px;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        /* Modern blog sections */
        .blog-section, .gameboy-container, .gameboy-screen {
            background: linear-gradient(135deg, rgba(255,255,255,0.13) 0%, rgba(255,255,255,0.07) 100%);
            background-blend-mode: lighten;
            position: relative;
            z-index: 1;
            border-radius: 24px;
            padding: 40px;
            margin-bottom: 40px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .blog-section::before, .gameboy-container::before, .gameboy-screen::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url('1049.jpeg') center center/cover no-repeat;
            opacity: 0.5;
            z-index: 0;
            border-radius: inherit;
            pointer-events: none;
        }
        .blog-section, .gameboy-container, .gameboy-screen {
            position: relative;
            z-index: 1;
        }
        .blog-section > *, .gameboy-container > *, .gameboy-screen > * {
            position: relative;
            z-index: 2;
        }

        .blog-section:hover, .gameboy-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .blog-title {
            font-size: 2.5rem;
            margin-bottom: 25px;
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 25%, #ffd700 50%, #ffed4e 75%, #ffd700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 600;
            letter-spacing: 2px;
            text-align: center;
            font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        /* Neon LED Style Titles */
        .mario-title {
            font-size: 3.5rem;
            font-weight: 400;
            text-align: center;
            margin-bottom: 30px;
            font-family: 'Roboto', 'Arial', sans-serif;
            text-transform: uppercase;
            letter-spacing: 8px;
            color: #ffffff;
            text-shadow: 
                0 0 5px #00ffff,
                0 0 10px #00ffff,
                0 0 15px #00ffff,
                0 0 20px #00ffff,
                0 0 25px #00ffff,
                0 0 30px #00ffff,
                0 0 35px #00ffff,
                0 0 40px #00ffff,
                0 0 45px #00ffff,
                0 0 50px #00ffff;
            animation: neonGlow 2s ease-in-out infinite alternate;
            position: relative;
        }

        @keyframes neonGlow {
            0% {
                text-shadow: 
                    0 0 5px #00ffff,
                    0 0 10px #00ffff,
                    0 0 15px #00ffff,
                    0 0 20px #00ffff,
                    0 0 25px #00ffff,
                    0 0 30px #00ffff,
                    0 0 35px #00ffff,
                    0 0 40px #00ffff,
                    0 0 45px #00ffff,
                    0 0 50px #00ffff;
            }
            100% {
                text-shadow: 
                    0 0 10px #00ffff,
                    0 0 20px #00ffff,
                    0 0 30px #00ffff,
                    0 0 40px #00ffff,
                    0 0 50px #00ffff,
                    0 0 60px #00ffff,
                    0 0 70px #00ffff,
                    0 0 80px #00ffff,
                    0 0 90px #00ffff,
                    0 0 100px #00ffff;
            }
        }

        .blog-text {
            line-height: 1.6;
            margin-bottom: 15px;
            color: #d4d4d4;
            font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        /* Modern GameBoy container */
        .gameboy-container {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%);
            border-radius: 28px;
            padding: 30px;
            margin: 30px 0;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .gameboy-container:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.4);
        }

        .gameboy-screen {
            background: #0f0f0f;
            border: 2px solid #333;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            min-height: 280px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .gameboy-game {
            width: 100%;
            height: 250px;
            background: #000;
            border: 1px solid #333;
            position: relative;
            overflow: hidden;
        }

        .snake-game {
            width: 100%;
            height: 100%;
            background: #000;
            position: relative;
        }

        .snake-segment {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #00ff00;
            border: 1px solid #008000;
        }

        .food {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ff0000;
            border-radius: 50%;
        }

        .gameboy-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }

        button, .control-btn, .social-btn {
            position: relative;
            overflow: hidden;
            background: none !important;
        }
        button::before, .control-btn::before, .social-btn::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url('1049.jpeg') center center/cover no-repeat;
            opacity: 0.5;
            z-index: 0;
            pointer-events: none;
            border-radius: inherit;
        }
        button > *, .control-btn > *, .social-btn > * {
            position: relative;
            z-index: 1;
        }

        button, .control-btn {
            color: #f8fcff !important;
            text-shadow: 0 2px 8px #b3e0ff, 0 0 2px #a0cfff;
            border: 1.5px solid rgba(192, 192, 255, 0.25) !important;
            font-weight: 600;
            font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.18);
            transition: all 0.32s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.32s cubic-bezier(0.4, 0, 0.2, 1), transform 0.32s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(8px);
            border-radius: 12px !important;
            padding: 12px 20px !important;
        }
        button:hover, .control-btn:hover {
            transform: scale(1.08) !important;
            box-shadow: 0 0 0 2px #eaf6ff, 0 4px 24px 0 #b3e0ff88, 0 1.5px 8px #a0cfff44 !important;
            filter: brightness(1.15) saturate(1.2) !important;
        }

        /* XILK Logo hover effects */
        #xilkLogo:hover {
            transform: scale(1.1);
            box-shadow: 
                0 0 30px rgba(0, 191, 255, 0.9), 
                0 0 60px rgba(0, 191, 255, 0.6), 
                0 0 90px rgba(0, 191, 255, 0.3), 
                0 0 120px rgba(0, 191, 255, 0.1),
                inset 0 0 30px rgba(0, 191, 255, 0.4);
            border-color: #87ceeb;
            filter: brightness(1.2);
        }

        /* Blinking cursor animation */
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .typing-cursor {
            display: inline-block;
            width: 2px;
            height: 1.2em;
            background-color: #cccccc;
            margin-left: 2px;
            animation: blink 1s infinite;
        }

        .control-btn:active {
            transform: translateY(0) scale(0.95);
        }

        /* TV Control Buttons - Override global button styles */
        .tv-control-btn {
            background: none !important;
            border: none !important;
            color: white !important;
            text-shadow: none !important;
            backdrop-filter: none !important;
            border-radius: 50% !important;
            padding: 10px 14px !important;
            font-family: inherit !important;
            position: relative !important;
            z-index: 11 !important;
        }
        
        .tv-control-btn::before {
            display: none !important;
        }
        
        .tv-control-btn:hover {
            transform: scale(1.2) !important;
            box-shadow: 0 4px 15px rgba(0, 191, 255, 0.6) !important;
        }

        .gameboy-title {
            text-align: center;
            color: #569cd6;
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: 600;
            letter-spacing: 2px;
            font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        /* Mobile optimization */
        @media (max-width: 768px) {
            .xilk-logo {
                font-size: 2.5rem;
            }

            .main-content {
                margin-top: 100px;
                padding: 15px;
            }

            .blog-section {
                padding: 15px;
                margin-bottom: 20px;
            }

            .blog-title {
                font-size: 1.3rem;
            }

            .gameboy-container {
                padding: 15px;
            }

            .gameboy-screen {
                min-height: 180px;
            }

            .gameboy-game {
                height: 160px;
            }

            .control-btn {
                width: 35px;
                height: 35px;
                font-size: 10px;
            }
        }

        /* Enhanced Mobile Optimization */
        @media (max-width: 480px) {
            .header {
                padding: 20px 10px;
            }

            .xilk-logo {
                font-size: 2rem;
                letter-spacing: 2px;
            }

            .main-content {
                margin-top: 80px;
                padding: 10px;
            }

            .blog-section {
                padding: 10px;
                margin-bottom: 15px;
                border-radius: 16px;
            }

            .mario-title {
                font-size: 2.5rem;
                letter-spacing: 3px;
                margin-bottom: 20px;
            }

            .blog-title {
                font-size: 1.1rem;
            }

            .blog-text {
                font-size: 0.9rem;
                line-height: 1.4;
            }

            .gameboy-container {
                padding: 10px;
                border-radius: 16px;
            }

            .gameboy-screen {
                min-height: 150px;
                padding: 10px;
            }

            .gameboy-game {
                height: 130px;
            }

            .gameboy-title {
                font-size: 1.1rem;
                margin-bottom: 10px;
            }

            .control-btn {
                width: 30px;
                height: 30px;
                font-size: 8px;
                padding: 8px 12px;
            }

            .gameboy-controls {
                gap: 10px;
                margin-top: 10px;
            }

            /* Social buttons optimization */
            .social-btn {
                padding: 8px 12px !important;
                font-size: 0.9rem !important;
                margin: 5px;
            }

            /* Video optimization */
            #retroVideo, #tvFrame {
                border-radius: 8px;
            }

            /* Button optimization */
            button, .control-btn {
                padding: 8px 12px !important;
                font-size: 0.9rem;
            }

            /* Footer optimization */
            footer {
                font-size: 0.8rem;
                padding: 8px 0 5px 0;
            }

            /* Cookie consent optimization */
            #cookieConsent {
                padding: 15px 12px 10px 12px;
                font-size: 0.9rem;
            }

            #acceptCookies {
                margin-left: 12px;
                padding: 6px 16px;
                font-size: 0.9rem;
            }
        }

        /* Extra small devices */
        @media (max-width: 320px) {
            .xilk-logo {
                font-size: 1.8rem;
                letter-spacing: 1px;
            }

            .mario-title {
                font-size: 2rem;
                letter-spacing: 2px;
            }

            .main-content {
                margin-top: 70px;
                padding: 8px;
            }

            .blog-section {
                padding: 8px;
                margin-bottom: 12px;
            }

            .gameboy-container {
                padding: 8px;
            }

            .gameboy-screen {
                min-height: 120px;
                padding: 8px;
            }

            .gameboy-game {
                height: 100px;
            }

            .control-btn {
                width: 25px;
                height: 25px;
                font-size: 6px;
                padding: 6px 8px;
            }
        }

        /* Games fullscreen styles */
        #gamesContainer:fullscreen {
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            width: 100vw;
            height: 100vh;
        }

        #gamesContainer:fullscreen .gameboy-screen {
            width: 100%;
            height: 100%;
            max-width: 800px;
            max-height: 600px;
        }

        .gameboy-screen:fullscreen {
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .gameboy-screen:fullscreen video {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        /* TV fullscreen styles */
        #tvContainer:fullscreen {
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 0;
            width: 100vw;
            height: 100vh;
        }

        #tvContainer:fullscreen .gameboy-screen {
            width: 100%;
            height: 100%;
            max-width: none;
            max-height: none;
            border-radius: 0;
            padding: 0;
        }

        #tvContainer:fullscreen .gameboy-game {
            width: 100%;
            height: 100%;
            border-radius: 0;
            overflow: visible;
        }

        #tvContainer:fullscreen .gameboy-game > div:first-child {
            width: 100%;
            height: 100%;
            border-radius: 0;
            padding: 0;
        }

        #tvContainer:fullscreen video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 0;
        }

        .gameboy-container:fullscreen .gameboy-controls {
            display: none;
        }

        /* Fullscreen button styles */
        .fullscreen-btn {
            background: linear-gradient(135deg, #00bfff 0%, #0080ff 100%);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
        }

        .fullscreen-btn:hover {
            transform: scale(1.2);
            background: linear-gradient(135deg, #00bfff 1, #0080ff 0.8);
            box-shadow: 0 4px 15px rgba(0, 191, 255, 0.6);
        }

        /* Scroll sections */
        .scroll-section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .scroll-content {
            max-width: 600px;
            width: 100%;
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Loading animation */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.5s ease;
        }

        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loading-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: 4px;
        }

        /* Modern button hover effects */
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.4);
        }

        /* Social link hover effects */
        a[onclick*="promptSocial"]:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%);
        }

        /* Universal button style update */
        button, .control-btn {
            background: url('1049.jpeg') center center/cover no-repeat, linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(0,0,32,0.12) 100%);
            color: #f8fcff;
            border: 1px solid rgba(192, 192, 255, 0.25);
            text-shadow: 0 2px 8px #b3e0ff, 0 0 2px #a0cfff;
            font-weight: 600;
            font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.18);
            transition: all 0.32s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.32s cubic-bezier(0.4, 0, 0.2, 1), transform 0.32s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(8px);
            min-height: 44px;
            min-width: 44px;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }
        button:hover, .control-btn:hover {
            transform: scale(1.08) !important;
            box-shadow: 0 0 0 2px #eaf6ff, 0 4px 24px 0 #b3e0ff88, 0 1.5px 8px #a0cfff44 !important;
            filter: brightness(1.15) saturate(1.2) !important;
        }

        /* Add this CSS for continuous shimmer animation */
        @keyframes shimmer {
          0% {
            background-position: -400% 0;
          }
          100% {
            background-position: 400% 0;
          }
        }
        .blog-title#welcomeTitle {
          background: none;
          -webkit-background-clip: initial;
          -webkit-text-fill-color: #fff;
          background-clip: initial;
          color: #fff;
          animation: whiteGlow 3.5s ease-in-out infinite;
          font-weight: 700;
          letter-spacing: 2px;
          text-align: center;
          font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        /* Replace shimmer with a slow, sophisticated white glow */
        @keyframes whiteGlow {
          0% {
            text-shadow: 0 0 8px #fff, 0 0 16px #eaf6ff, 0 0 32px #fff, 0 0 0px #fff;
          }
          50% {
            text-shadow: 0 0 24px #fff, 0 0 48px #eaf6ff, 0 0 64px #fff, 0 0 8px #fff;
          }
          100% {
            text-shadow: 0 0 8px #fff, 0 0 16px #eaf6ff, 0 0 32px #fff, 0 0 0px #fff;
          }
        }

        /* Only keep the .social-btn:hover CSS rule, remove the invalid HTML from the style block */
        button:hover, .control-btn:hover, .social-btn:hover {
            transform: scale(1.08) !important;
            box-shadow: 0 0 0 2px #eaf6ff, 0 4px 24px 0 #b3e0ff88, 0 1.5px 8px #a0cfff44 !important;
            filter: brightness(1.15) saturate(1.2) !important;
        }

        #offlineText {
            cursor: pointer;
        }

        .social-btn, #tvSoundToggle {
            position: relative;
            overflow: hidden;
            background: none !important;
        }
        .social-btn::before, #tvSoundToggle::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url('black.jpeg') center center/cover no-repeat;
            opacity: 0.3;
            z-index: 0;
            pointer-events: none;
            border-radius: inherit;
        }
        .social-btn > *, #tvSoundToggle > * {
            position: relative;
            z-index: 1;
        }

        .social-btn img, #tvSoundToggle img {
          opacity: 1 !important;
        }
    </style>
</head>
<body>
    <!-- Add this inside <body> (near the top or bottom, outside <script>): -->
    <audio id="offlineAudio" src="1059.mp3" preload="auto" style="display:none"></audio>

    <!-- Background Video -->
    <video class="background-video" autoplay muted loop>
        <source src="marioricks.mp4" type="video/mp4">
    </video>

    <!-- Overlay -->
    <div class="overlay"></div>

    <!-- Lightning Effects -->
    <div class="lightning"></div>

    <!-- Sound Effects -->
    <audio id="hoverSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT" type="audio/wav">
    </audio>

    <!-- Header -->
    <header class="header">
        <img src="xilklogo.jpeg" alt="XILK Logo" id="xilkLogoImg" class="xilk-logo-img" style="width: 60px; height: 60px; border-radius: 50%; object-fit: cover; border: none; box-shadow: 0 0 15px rgba(0, 191, 255, 0.8), 0 0 30px rgba(0, 191, 255, 0.5), 0 0 45px rgba(0, 191, 255, 0.3); margin-right: 18px; animation: electricPulse 2s ease-in-out infinite alternate; cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); vertical-align: middle;" onclick="showRandomJoke()">
        <span class="xilk-logo-text" id="xilkHeaderText" style="font-size: 3.5rem; font-weight: 700; color: #ffffff; cursor: pointer; letter-spacing: 4px; text-shadow: 0 0 10px rgba(255,255,255,0.8), 0 0 20px rgba(255,255,255,0.6), 0 0 30px rgba(255,255,255,0.4), 0 0 40px rgba(255,255,255,0.2); filter: drop-shadow(0 0 20px rgba(255,255,255,0.3)); vertical-align: middle;" onclick="window.open('https://youtu.be/xvFZjo5PgG0?si=iNJFN0EqHkNMeb1Y', '_blank')">XILK</span>
        <button onclick="toggleSound()" style="position: absolute; top: 20px; right: 20px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); color: white; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-size: 12px; backdrop-filter: blur(5px);" id="soundToggle">🔊</button>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Section 1 - Welcome -->
        <div class="scroll-section">
            <div class="scroll-content">
                <div class="blog-section">
                    <div style="text-align: center; margin-bottom: 30px;">
                        <img src="xilklogo.jpeg" alt="XILK Logo" id="xilkLogoMain" onclick="showRandomJoke()" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid #00bfff; box-shadow: 0 0 20px rgba(0, 191, 255, 0.6), 0 0 40px rgba(0, 191, 255, 0.3), 0 0 60px rgba(0, 191, 255, 0.1), inset 0 0 20px rgba(0, 191, 255, 0.2); margin-bottom: 20px; animation: electricPulse 2s ease-in-out infinite alternate; cursor: pointer; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);" onmouseover="this.style.transform='scale(1.3)'; this.style.boxShadow='0 0 30px rgba(0, 191, 255, 0.9), 0 0 60px rgba(0, 191, 255, 0.6), 0 0 90px rgba(0, 191, 255, 0.4), 0 0 120px rgba(0, 191, 255, 0.2), inset 0 0 30px rgba(0, 191, 255, 0.3)'; this.style.filter='brightness(1.4)'" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 0 20px rgba(0, 191, 255, 0.6), 0 0 40px rgba(0, 191, 255, 0.3), 0 0 60px rgba(0, 191, 255, 0.1), inset 0 0 20px rgba(0, 191, 255, 0.2)'; this.style.filter='brightness(1)'">
                    </div>
                    <h2 class="blog-title" id="welcomeTitle"></h2>
                    
                    <div style="text-align: center; margin-bottom: 40px;">
                        <p class="blog-text" style="font-size: 1.3rem; line-height: 1.8; margin-bottom: 30px; font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;">
                            Contact:
                        </p>
                        <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
                            <a href="https://t.me/xilkarpan" target="_blank" style="color: #569cd6; text-decoration: none; font-size: 1.1rem; font-weight: 500; letter-spacing: 2px; padding: 12px 20px; border-radius: 12px; background: linear-gradient(135deg, rgba(192, 192, 192, 0.2) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(192, 192, 192, 0.15) 100%); border: 1px solid rgba(192, 192, 192, 0.3); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); backdrop-filter: blur(10px); font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;" class="social-btn">
                              <span style="display:inline-flex;align-items:center;gap:8px;">
                                <span style="width:22px;height:22px;display:inline-block;background:#fff;border-radius:50%;overflow:hidden;vertical-align:middle;box-shadow:0 0 0 1px #ccc;">
                                  <img src="telegram.png" alt="Telegram" style="width:100%;height:100%;object-fit:cover;display:block;" />
                                </span>
                                TELEGRAM
                              </span>
                            </a>
                            <a href="https://x.com/arpanxilk" target="_blank" style="color: #569cd6; text-decoration: none; font-size: 1.1rem; font-weight: 500; letter-spacing: 2px; padding: 12px 20px; border-radius: 12px; background: linear-gradient(135deg, rgba(192, 192, 192, 0.2) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(192, 192, 192, 0.15) 100%); border: 1px solid rgba(192, 192, 192, 0.3); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); backdrop-filter: blur(10px); font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;" class="social-btn">
                              <span style="display:inline-flex;align-items:center;gap:8px;">
                                <span style="width:22px;height:22px;display:inline-block;background:#fff;border-radius:50%;overflow:hidden;vertical-align:middle;box-shadow:0 0 0 1px #ccc;">
                                  <img src="xlogo.webp" alt="X" style="width:100%;height:100%;object-fit:cover;display:block;" />
                                </span>
                                X
                              </span>
                            </a>
                            <a href="https://www.instagram.com/xilk.ag?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank" style="color: #569cd6; text-decoration: none; font-size: 1.1rem; font-weight: 500; letter-spacing: 2px; padding: 12px 20px; border-radius: 12px; background: linear-gradient(135deg, rgba(192, 192, 192, 0.2) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(192, 192, 192, 0.15) 100%); border: 1px solid rgba(192, 192, 192, 0.3); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); backdrop-filter: blur(10px); font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;" class="social-btn">
                              <span style="display:inline-flex;align-items:center;gap:8px;">
                                <span style="width:22px;height:22px;display:inline-block;background:#fff;border-radius:50%;overflow:hidden;vertical-align:middle;box-shadow:0 0 0 1px #ccc;">
                                  <img src="instagram.png" alt="Instagram" style="width:100%;height:100%;object-fit:cover;display:block;" />
                                </span>
                                INSTAGRAM
                              </span>
                            </a>
                        </div>
                        
                        <div style="text-align: center; margin-top: 30px;">
                            <p class="blog-text" id="offlineText" style="font-size: 1.1rem; line-height: 1.6; margin-bottom: 15px; font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace; color: #cccccc; min-height: 1.6em;"></p>
                            <p class="blog-text" id="enjoyText" style="font-size: 1.1rem; line-height: 1.6; font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace; color: #cccccc; min-height: 1.6em;"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <!-- Section 2 - Games -->
        <div class="scroll-section">
            <div class="scroll-content">
                <div class="blog-section">
                    <h2 class="mario-title">GAMES</h2>
                    
                    <!-- Game Selection -->
                    <div class="gameboy-container" id="gamesContainer">
                        <div class="gameboy-title">GAME SELECTION</div>
                        <div class="gameboy-screen">
                            <div class="gameboy-game" style="position: relative; overflow: hidden;">
                                <video id="gameBgVideo" src="oktv.mp4" autoplay loop muted playsinline style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 0;"></video>
                                <div id="gameSelectionScreen" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #ffffff; width: 100%;">
                                    <div style="font-size: 18px; margin-bottom: 25px; font-weight: 300;">SELECT A GAME</div>
                                    <div style="display: flex; flex-direction: column; gap: 15px; align-items: center;">
                                        <button onclick="selectGame('snake')" style="background: linear-gradient(135deg, rgba(192, 192, 192, 0.25) 0%, rgba(255, 255, 255, 0.15) 50%, rgba(192, 192, 192, 0.2) 100%); color: #fff; border: 1px solid rgba(192, 192, 192, 0.4); padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 14px; width: 140px; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2); backdrop-filter: blur(10px);">SNAKE</button>
                                        <button onclick="selectGame('dino')" style="background: linear-gradient(135deg, rgba(192, 192, 192, 0.25) 0%, rgba(255, 255, 255, 0.15) 50%, rgba(192, 192, 192, 0.2) 100%); color: #fff; border: 1px solid rgba(192, 192, 192, 0.4); padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 14px; width: 140px; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2); backdrop-filter: blur(10px);">CHROME DINO</button>
                                        <button onclick="selectGame('tetris')" style="background: linear-gradient(135deg, rgba(192, 192, 192, 0.25) 0%, rgba(255, 255, 255, 0.15) 50%, rgba(192, 192, 192, 0.2) 100%); color: #fff; border: 1px solid rgba(192, 192, 192, 0.4); padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 14px; width: 140px; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2); backdrop-filter: blur(10px);">TETRIS</button>
                                    </div>
                                </div>
                                
                                <!-- Snake Game -->
                                <div id="snakeGameContainer" style="display: none; width: 100%; height: 100%;">
                                    <div class="snake-game" id="snakeGame"></div>
                                    <div id="snakeStartScreen" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #ffffff;">
                                        <div style="font-size: 16px; margin-bottom: 15px; font-weight: 300;">SNAKE GAME</div>
                                        <button id="startSnakeBtn" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 14px;">START GAME</button>
                                    </div>
                                </div>
                                
                                <!-- Chrome Dino Game -->
                                <div id="dinoGameContainer" style="display: none; width: 100%; height: 100%;">
                                    <canvas id="dinoCanvas" width="400" height="200" style="background: #f7f7f7; border: 1px solid #333;"></canvas>
                                    <div id="dinoStartScreen" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #535353;">
                                        <div style="font-size: 16px; margin-bottom: 15px; font-weight: 300;">CHROME DINO</div>
                                        <button id="startDinoBtn" style="background: #535353; color: #fff; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 14px;">START GAME</button>
                                    </div>
                                </div>
                                
                                <!-- Tetris Game -->
                                <div id="tetrisGameContainer" style="display: none; width: 100%; height: 100%;">
                                    <canvas id="tetrisCanvas" width="200" height="400" style="background: #000; border: 1px solid #333;"></canvas>
                                    <div id="tetrisStartScreen" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #ffffff;">
                                        <div style="font-size: 16px; margin-bottom: 15px; font-weight: 300;">TETRIS</div>
                                        <button id="startTetrisBtn" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 14px;">START GAME</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="gameboy-controls">
                            <div class="control-btn" onclick="backToSelection()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff;">BACK</div>
                            <div class="control-btn" onclick="toggleFullscreen('games')" style="background: linear-gradient(135deg, #00bfff 0%, #0080ff 100%); color: #fff;">⛶</div>
                            <div class="control-btn" onclick="changeDirection('up')" id="snakeUp" style="display: none;">↑</div>
                            <div class="control-btn" onclick="changeDirection('left')" id="snakeLeft" style="display: none;">←</div>
                            <div class="control-btn" onclick="changeDirection('down')" id="snakeDown" style="display: none;">↓</div>
                            <div class="control-btn" onclick="changeDirection('right')" id="snakeRight" style="display: none;">→</div>
                            <div class="control-btn" onclick="dinoJump()" id="dinoJump" style="display: none; background: #535353;">JUMP</div>
                            <div class="control-btn" onclick="resetDino()" id="dinoReset" style="display: none; background: #535353;">RESET</div>
                            <div class="control-btn" onclick="tetrisMove('left')" id="tetrisLeft" style="display: none;">←</div>
                            <div class="control-btn" onclick="tetrisRotate()" id="tetrisRot" style="display: none;">ROT</div>
                            <div class="control-btn" onclick="tetrisMove('right')" id="tetrisRight" style="display: none;">→</div>
                            <div class="control-btn" onclick="tetrisDrop()" id="tetrisDrop" style="display: none;">DROP</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 3 - Retro Cartoon -->
        <div class="scroll-section">
            <div class="scroll-content">
                <div class="blog-section">
                    <h2 class="mario-title">RETRO CARTOON</h2>
                    
                    <!-- Retro TV Video Player -->
                    <div class="gameboy-container" id="tvContainer">
                        <div class="gameboy-title">RETRO TV</div>
                        <div class="gameboy-screen">
                            <div class="gameboy-game" style="position: relative; overflow: visible;">
                                <!-- TV Screen Container -->
                                <div style="background: #000; border: 2px solid #333; border-radius: 8px; padding: 15px; width: 100%; height: 250px; display: flex; align-items: center; justify-content: center; position: relative;">
                                    <video id="tvFrame" autoplay muted loop style="width: 100%; height: 100%; object-fit: cover; border-radius: 12px; position: absolute; top: 0; left: 0; z-index: 0;">
                                        <source src="tomokxilk.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                    <video id="retroVideo" autoplay muted loop style="background: transparent; border-radius: 12px; width: 100%; height: 100%; object-fit: cover; object-position: center 45%; position: absolute; top: 0; left: 0; z-index: 1;">
                                        <source src="tomokxilk.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                
                                <!-- TV Control Buttons - Positioned in TV outline -->
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px; padding: 12px; background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%); border: 2px solid #444; border-radius: 8px; position: relative; z-index: 10;">
                                    <!-- Left side buttons -->
                                    <div style="display: flex; gap: 12px;">
                                        <!-- Fullscreen Button -->
                                        <button onclick="toggleFullscreen('tv')" id="tvFullscreenBtn" class="tv-control-btn" style="background: linear-gradient(135deg, #00bfff 0%, #0080ff 100%) !important; color: white !important; border: none !important; padding: 10px 14px !important; border-radius: 50% !important; cursor: pointer; font-size: 16px; font-weight: bold; box-shadow: 0 2px 8px rgba(0,0,0,0.3); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); min-width: 40px; min-height: 40px; display: flex; align-items: center; justify-content: center; position: relative; z-index: 11;" onmouseover="this.style.transform='scale(1.2)'; this.style.background='linear-gradient(135deg, #00bfff 1, #0080ff 0.8) !important'; this.style.boxShadow='0 4px 15px rgba(0, 191, 255, 0.6)'" onmouseout="this.style.transform='scale(1)'; this.style.background='linear-gradient(135deg, #00bfff 0%, #0080ff 100%) !important'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.3)'">⛶</button>
                                        
                                        <!-- TV Sound Toggle Button -->
                                        <button onclick="toggleTVSound()" id="tvSoundToggle" class="tv-control-btn" style="background: #ff0000 !important; color: white !important; border: none !important; padding: 10px 14px !important; border-radius: 50% !important; cursor: pointer; font-size: 16px; font-weight: bold; box-shadow: 0 2px 8px rgba(0,0,0,0.3); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); min-width: 40px; min-height: 40px; display: flex; align-items: center; justify-content: center; position: relative; z-index: 11;" onmouseover="this.style.transform='scale(1.2)'; this.style.background='#ff3333 !important'; this.style.boxShadow='0 4px 15px rgba(255, 0, 0, 0.6)'" onmouseout="this.style.transform='scale(1)'; this.style.background='#ff0000 !important'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.3)'">🔊</button>
                                    </div>
                                    
                                    <!-- Right side button -->
                                    <div>
                                        <!-- Next Video Button -->
                                        <button onclick="nextVideo()" id="nextVideoBtn" class="tv-control-btn" style="background: linear-gradient(135deg, rgba(0, 191, 255, 0.8) 0%, rgba(0, 150, 255, 0.6) 100%) !important; color: white !important; border: none !important; padding: 10px 14px !important; border-radius: 50% !important; cursor: pointer; font-size: 18px; font-weight: bold; box-shadow: 0 2px 8px rgba(0,0,0,0.3); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); min-width: 40px; min-height: 40px; display: flex; align-items: center; justify-content: center; position: relative; z-index: 11;" onmouseover="this.style.transform='scale(1.2)'; this.style.background='linear-gradient(135deg, rgba(0, 191, 255, 1) 0%, rgba(0, 150, 255, 0.8) 100%) !important'; this.style.boxShadow='0 4px 15px rgba(0, 191, 255, 0.6)'" onmouseout="this.style.transform='scale(1)'; this.style.background='linear-gradient(135deg, rgba(0, 191, 255, 0.8) 0%, rgba(0, 150, 255, 0.6) 100%) !important'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.3)'">>></button>
                                    </div>
                                </div>
                                
                                <div id="videoPlaceholder" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #ffffff; display: none;">
                                    <div style="font-size: 18px; margin-bottom: 20px; font-weight: 300;">RETRO TV</div>
                                    <button onclick="loadVideo()" style="background: linear-gradient(135deg, rgba(192, 192, 192, 0.25) 0%, rgba(255, 255, 255, 0.15) 50%, rgba(192, 192, 192, 0.2) 100%); color: #fff; border: 1px solid rgba(192, 192, 192, 0.4); padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 16px; backdrop-filter: blur(10px);">LOAD VIDEO</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </main>

    <!-- Add this just before </body> -->
    <footer style="width:100%;background:rgba(255,255,255,0.97);color:#222;text-align:center;font-size:0.98rem;padding:10px 0 7px 0;letter-spacing:0.01em;font-family:'Cascadia Code','Consolas','Monaco','Courier New',monospace;box-shadow:0 -2px 16px 0 rgba(0,0,0,0.04);position:relative;z-index:100;">
      © 2025 Xilk &lt;/&gt;. Made with curiosity, caffeine, and a little chaos 🚀 . All rights reserved.
    </footer>

    <!-- Add this just before </body> -->
    <div id="cookieConsent" style="display:none; position:fixed; bottom:0; left:0; width:100vw; background:rgba(30,30,30,0.98); color:#fff; z-index:9999; padding:18px 16px 14px 16px; box-shadow:0 -2px 16px 0 rgba(0,0,0,0.12); font-size:1.08rem; font-family:'Cascadia Code','Consolas','Monaco','Courier New',monospace; text-align:center;">
      This site uses cookies to enhance your experience. By continuing, you agree to our use of cookies.
      <button id="acceptCookies" style="margin-left:18px; background:linear-gradient(90deg,#222,#444); color:#fff; border:none; border-radius:8px; padding:8px 22px; font-size:1rem; font-family:inherit; font-weight:600; box-shadow:0 2px 8px #0002; cursor:pointer;">Accept All</button>
    </div>

    <script>
        // Add at the top of your <script> section:
        let userInteracted = false;

        // In DOMContentLoaded, add this:
        document.addEventListener('click', function() {
            userInteracted = true;
            const offlineAudio = document.getElementById('offlineAudio');
            if (offlineAudio) {
                offlineAudio.load(); // unlock
            }
        }, { once: true });

        document.addEventListener('touchstart', function() {
            userInteracted = true;
            const offlineAudio = document.getElementById('offlineAudio');
            if (offlineAudio) {
                offlineAudio.load(); // unlock
            }
        }, { once: true });

        // In the loading screen animation chain, before typeLetters for offlineText, play the audio only if userInteracted:
        const offlineAudio = document.getElementById('offlineAudio');
        if (offlineAudio && userInteracted) {
            offlineAudio.currentTime = 0;
            offlineAudio.play().catch(e => { console.log('Audio play error:', e); });
        }

        // Snake Game Logic
        let snake = [{x: 10, y: 10}];
        let food = {x: 15, y: 15};
        let direction = 'right';
        let gameRunning = false;
        let gameInterval;

        const gameContainer = document.getElementById('snakeGame');
        const gridSize = 20;
        const cellSize = 9;

        function initGame() {
            if (!gameContainer) return;
            
            // Hide start screen
            const startScreen = document.getElementById('snakeStartScreen');
            if (startScreen) {
                startScreen.style.display = 'none';
            }
            
            gameContainer.innerHTML = '';
            snake = [{x: 10, y: 10}];
            food = {x: 15, y: 15};
            direction = 'right';
            gameRunning = true;
            renderGame();
            gameInterval = setInterval(updateGame, 150);
            playGameStart();
        }

        function updateGame() {
            if (!gameRunning) return;

            // Move snake
            const head = {...snake[0]};
            switch(direction) {
                case 'up': head.y--; break;
                case 'down': head.y++; break;
                case 'left': head.x--; break;
                case 'right': head.x++; break;
            }

            // Check collision with walls
            if (head.x < 0 || head.x >= gridSize || head.y < 0 || head.y >= gridSize) {
                gameOver();
                return;
            }

            // Check collision with self
            if (snake.some(segment => segment.x === head.x && segment.y === head.y)) {
                gameOver();
                return;
            }

            snake.unshift(head);

            // Check if food is eaten
            if (head.x === food.x && head.y === food.y) {
                generateFood();
                playGameSuccess();
            } else {
                snake.pop();
            }

            renderGame();
        }

        function renderGame() {
            gameContainer.innerHTML = '';
            
            // Render snake
            snake.forEach((segment, index) => {
                const snakeElement = document.createElement('div');
                snakeElement.className = 'snake-segment';
                snakeElement.style.left = segment.x * cellSize + 'px';
                snakeElement.style.top = segment.y * cellSize + 'px';
                if (index === 0) {
                    snakeElement.style.background = '#ffffff';
                    snakeElement.style.border = '1px solid #cccccc';
                } else {
                    snakeElement.style.background = '#ffffff';
                    snakeElement.style.border = '1px solid #cccccc';
                }
                gameContainer.appendChild(snakeElement);
            });

            // Render food
            const foodElement = document.createElement('div');
            foodElement.className = 'food';
            foodElement.style.left = food.x * cellSize + 'px';
            foodElement.style.top = food.y * cellSize + 'px';
            foodElement.style.background = '#ffffff';
            foodElement.style.border = '1px solid #cccccc';
            gameContainer.appendChild(foodElement);
        }

        function generateFood() {
            do {
                food.x = Math.floor(Math.random() * gridSize);
                food.y = Math.floor(Math.random() * gridSize);
            } while (snake.some(segment => segment.x === food.x && segment.y === food.y));
        }

        function gameOver() {
            gameRunning = false;
            clearInterval(gameInterval);
            playGameOver();
            setTimeout(() => {
                if (confirm('Game Over! Play again?')) {
                    initGame();
                } else {
                    // Show start screen again
                    const startScreen = document.getElementById('snakeStartScreen');
                    if (startScreen) {
                        startScreen.style.display = 'block';
                    }
                }
            }, 100);
        }

        function changeDirection(newDirection) {
            const opposites = {
                'up': 'down',
                'down': 'up',
                'left': 'right',
                'right': 'left'
            };
            
            if (opposites[newDirection] !== direction) {
                direction = newDirection;
                playGameAction();
            }
        }

        // Touch controls for mobile
        let touchStartX = 0;
        let touchStartY = 0;

        gameContainer.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
        });

        gameContainer.addEventListener('touchend', (e) => {
            if (!gameRunning) return;
            
            const touchEndX = e.changedTouches[0].clientX;
            const touchEndY = e.changedTouches[0].clientY;
            
            const deltaX = touchEndX - touchStartX;
            const deltaY = touchEndY - touchStartY;
            
            if (Math.abs(deltaX) > Math.abs(deltaY)) {
                if (deltaX > 0) changeDirection('right');
                else changeDirection('left');
            } else {
                if (deltaY > 0) changeDirection('down');
                else changeDirection('up');
            }
        });

        // Start game button
        document.addEventListener('DOMContentLoaded', function() {
            const startBtn = document.getElementById('startGameBtn');
            if (startBtn) {
                startBtn.addEventListener('click', function() {
                    initGame();
                });
            }
        });

        // Remove old XILK Instagram link event listener - now handled by separate elements

        // Keyboard controls
        document.addEventListener('keydown', (e) => {
            if (!gameRunning) return;
            
            switch(e.key) {
                case 'ArrowUp': changeDirection('up'); break;
                case 'ArrowDown': changeDirection('down'); break;
                case 'ArrowLeft': changeDirection('left'); break;
                case 'ArrowRight': changeDirection('right'); break;
            }
        });

        // Mobile optimization - prevent zoom on double tap
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // Prevent pull-to-refresh on mobile
        document.body.addEventListener('touchmove', function(e) {
            e.preventDefault();
        }, { passive: false });

        // Chrome Dino Game
        let dinoCanvas, dinoCtx, dinoX, dinoY, dinoVelocity, dinoGravity, dinoOnGround;
        let cactusX, cactusY, cactusWidth, cactusHeight, cactusSpeed;
        let dinoGameRunning = false;
        let dinoScore = 0;

        function initDinoGame() {
            dinoCanvas = document.getElementById('dinoCanvas');
            dinoCtx = dinoCanvas.getContext('2d');
            
            // Hide start screen
            const startScreen = document.getElementById('dinoStartScreen');
            if (startScreen) {
                startScreen.style.display = 'none';
            }
            
            dinoX = 50;
            dinoY = 60;
            dinoVelocity = 0;
            dinoGravity = 0.8;
            dinoOnGround = true;
            
            cactusX = 400;
            cactusY = 60;
            cactusWidth = 20;
            cactusHeight = 40;
            cactusSpeed = 3;
            
            dinoGameRunning = true;
            dinoScore = 0;
            
            gameLoop();
        }

        function gameLoop() {
            if (!dinoGameRunning) return;
            
            // Clear canvas
            dinoCtx.clearRect(0, 0, dinoCanvas.width, dinoCanvas.height);
            
            // Update dino
            if (!dinoOnGround) {
                dinoVelocity += dinoGravity;
                dinoY += dinoVelocity;
                
                if (dinoY >= 60) {
                    dinoY = 60;
                    dinoVelocity = 0;
                    dinoOnGround = true;
                }
            }
            
            // Update cactus
            cactusX -= cactusSpeed;
            if (cactusX < -cactusWidth) {
                cactusX = 400;
                dinoScore++;
                cactusSpeed += 0.2;
            }
            
            // Draw ground
            dinoCtx.fillStyle = '#535353';
            dinoCtx.fillRect(0, 80, dinoCanvas.width, 20);
            
            // Draw dino
            dinoCtx.fillStyle = '#535353';
            dinoCtx.fillRect(dinoX, dinoY, 20, 20);
            
            // Draw cactus
            dinoCtx.fillStyle = '#535353';
            dinoCtx.fillRect(cactusX, cactusY, cactusWidth, cactusHeight);
            
            // Draw score
            dinoCtx.fillStyle = '#535353';
            dinoCtx.font = '16px Arial';
            dinoCtx.fillText('Score: ' + dinoScore, 10, 20);
            
            // Collision detection
            if (dinoX < cactusX + cactusWidth &&
                dinoX + 20 > cactusX &&
                dinoY < cactusY + cactusHeight &&
                dinoY + 20 > cactusY) {
                dinoGameOver();
                return;
            }
            
            requestAnimationFrame(gameLoop);
        }

        function dinoJump() {
            if (dinoOnGround && dinoGameRunning) {
                dinoVelocity = -15;
                dinoOnGround = false;
            }
        }

        function resetDino() {
            dinoGameRunning = false;
            const startScreen = document.getElementById('dinoStartScreen');
            if (startScreen) {
                startScreen.style.display = 'block';
            }
        }

        function dinoGameOver() {
            dinoGameRunning = false;
            setTimeout(() => {
                if (confirm('Game Over! Score: ' + dinoScore + '\nPlay again?')) {
                    initDinoGame();
                } else {
                    resetDino();
                }
            }, 100);
        }

        // Tetris Game
        let tetrisCanvas, tetrisCtx, tetrisBoard, tetrisPiece, tetrisScore, tetrisGameRunning;
        const tetrisBoardWidth = 10;
        const tetrisBoardHeight = 20;
        const tetrisBlockSize = 20;

        const tetrisPieces = [
            [[1, 1, 1, 1]], // I
            [[1, 1], [1, 1]], // O
            [[1, 1, 1], [0, 1, 0]], // T
            [[1, 1, 1], [1, 0, 0]], // L
            [[1, 1, 1], [0, 0, 1]], // J
            [[1, 1, 0], [0, 1, 1]], // S
            [[0, 1, 1], [1, 1, 0]]  // Z
        ];

        function initTetrisGame() {
            tetrisCanvas = document.getElementById('tetrisCanvas');
            tetrisCtx = tetrisCanvas.getContext('2d');
            
            // Hide start screen
            const startScreen = document.getElementById('tetrisStartScreen');
            if (startScreen) {
                startScreen.style.display = 'none';
            }
            
            tetrisBoard = Array(tetrisBoardHeight).fill().map(() => Array(tetrisBoardWidth).fill(0));
            tetrisScore = 0;
            tetrisGameRunning = true;
            
            spawnTetrisPiece();
            tetrisGameLoop();
        }

        function spawnTetrisPiece() {
            const pieceIndex = Math.floor(Math.random() * tetrisPieces.length);
            tetrisPiece = {
                shape: tetrisPieces[pieceIndex],
                x: Math.floor(tetrisBoardWidth / 2) - Math.floor(tetrisPieces[pieceIndex][0].length / 2),
                y: 0
            };
        }

        function tetrisGameLoop() {
            if (!tetrisGameRunning) return;
            
            // Clear canvas
            tetrisCtx.fillStyle = '#000';
            tetrisCtx.fillRect(0, 0, tetrisCanvas.width, tetrisCanvas.height);
            
            // Draw board
            for (let y = 0; y < tetrisBoardHeight; y++) {
                for (let x = 0; x < tetrisBoardWidth; x++) {
                    if (tetrisBoard[y][x]) {
                        tetrisCtx.fillStyle = '#ffffff';
                        tetrisCtx.fillRect(x * tetrisBlockSize, y * tetrisBlockSize, tetrisBlockSize - 1, tetrisBlockSize - 1);
                    }
                }
            }
            
            // Draw current piece
            if (tetrisPiece) {
                tetrisCtx.fillStyle = '#ffffff';
                for (let y = 0; y < tetrisPiece.shape.length; y++) {
                    for (let x = 0; x < tetrisPiece.shape[y].length; x++) {
                        if (tetrisPiece.shape[y][x]) {
                            tetrisCtx.fillRect(
                                (tetrisPiece.x + x) * tetrisBlockSize,
                                (tetrisPiece.y + y) * tetrisBlockSize,
                                tetrisBlockSize - 1,
                                tetrisBlockSize - 1
                            );
                        }
                    }
                }
            }
            
            // Draw score
            tetrisCtx.fillStyle = '#ffffff';
            tetrisCtx.font = '16px Arial';
            tetrisCtx.fillText('Score: ' + tetrisScore, 10, 20);
            
            // Move piece down
            if (!tetrisMovePiece(0, 1)) {
                placeTetrisPiece();
                clearTetrisLines();
                spawnTetrisPiece();
                
                if (!tetrisIsValidMove(tetrisPiece.x, tetrisPiece.y)) {
                    tetrisGameOver();
                    return;
                }
            }
            
            setTimeout(() => requestAnimationFrame(tetrisGameLoop), 500);
        }

        function tetrisMovePiece(dx, dy) {
            const newX = tetrisPiece.x + dx;
            const newY = tetrisPiece.y + dy;
            
            if (tetrisIsValidMove(newX, newY)) {
                tetrisPiece.x = newX;
                tetrisPiece.y = newY;
                return true;
            }
            return false;
        }

        function tetrisIsValidMove(x, y) {
            for (let py = 0; py < tetrisPiece.shape.length; py++) {
                for (let px = 0; px < tetrisPiece.shape[py].length; px++) {
                    if (tetrisPiece.shape[py][px]) {
                        const newX = x + px;
                        const newY = y + py;
                        
                        if (newX < 0 || newX >= tetrisBoardWidth || 
                            newY >= tetrisBoardHeight ||
                            (newY >= 0 && tetrisBoard[newY][newX])) {
                            return false;
                        }
                    }
                }
            }
            return true;
        }

        function placeTetrisPiece() {
            for (let y = 0; y < tetrisPiece.shape.length; y++) {
                for (let x = 0; x < tetrisPiece.shape[y].length; x++) {
                    if (tetrisPiece.shape[y][x]) {
                        const boardY = tetrisPiece.y + y;
                        const boardX = tetrisPiece.x + x;
                        if (boardY >= 0) {
                            tetrisBoard[boardY][boardX] = 1;
                        }
                    }
                }
            }
        }

        function clearTetrisLines() {
            for (let y = tetrisBoardHeight - 1; y >= 0; y--) {
                if (tetrisBoard[y].every(cell => cell === 1)) {
                    tetrisBoard.splice(y, 1);
                    tetrisBoard.unshift(Array(tetrisBoardWidth).fill(0));
                    tetrisScore += 100;
                }
            }
        }

        function tetrisRotate() {
            if (!tetrisGameRunning || !tetrisPiece) return;
            
            const rotated = tetrisPiece.shape[0].map((_, i) => 
                tetrisPiece.shape.map(row => row[i]).reverse()
            );
            
            const originalShape = tetrisPiece.shape;
            tetrisPiece.shape = rotated;
            
            if (!tetrisIsValidMove(tetrisPiece.x, tetrisPiece.y)) {
                tetrisPiece.shape = originalShape;
            }
        }

        function tetrisMove(direction) {
            if (!tetrisGameRunning || !tetrisPiece) return;
            
            if (direction === 'left') {
                tetrisMovePiece(-1, 0);
            } else if (direction === 'right') {
                tetrisMovePiece(1, 0);
            }
        }

        function tetrisDrop() {
            if (!tetrisGameRunning || !tetrisPiece) return;
            
            while (tetrisMovePiece(0, 1)) {
                tetrisScore += 10;
            }
        }

        function tetrisGameOver() {
            tetrisGameRunning = false;
            setTimeout(() => {
                if (confirm('Game Over! Score: ' + tetrisScore + '\nPlay again?')) {
                    initTetrisGame();
                } else {
                    const startScreen = document.getElementById('tetrisStartScreen');
                    if (startScreen) {
                        startScreen.style.display = 'block';
                    }
                }
            }, 100);
        }

        // Game Selection Functions
        let currentGame = null;

        function selectGame(gameType) {
            currentGame = gameType;
            
            // Hide selection screen
            document.getElementById('gameSelectionScreen').style.display = 'none';
            
            // Hide all game containers
            document.getElementById('snakeGameContainer').style.display = 'none';
            document.getElementById('dinoGameContainer').style.display = 'none';
            document.getElementById('tetrisGameContainer').style.display = 'none';
            
            // Hide all control buttons
            hideAllControls();
            
            // Show selected game container
            if (gameType === 'snake') {
                document.getElementById('snakeGameContainer').style.display = 'block';
                showSnakeControls();
            } else if (gameType === 'dino') {
                document.getElementById('dinoGameContainer').style.display = 'block';
                showDinoControls();
            } else if (gameType === 'tetris') {
                document.getElementById('tetrisGameContainer').style.display = 'block';
                showTetrisControls();
            }

            // Add id to the video element:
            const gameBgVideo = document.getElementById('gameBgVideo');
            if (gameBgVideo) gameBgVideo.style.display = 'none';
        }

        function backToSelection() {
            // Stop current game
            if (currentGame === 'snake') {
                gameRunning = false;
                clearInterval(gameInterval);
            } else if (currentGame === 'dino') {
                dinoGameRunning = false;
            } else if (currentGame === 'tetris') {
                tetrisGameRunning = false;
            }
            
            // Show selection screen
            document.getElementById('gameSelectionScreen').style.display = 'block';
            
            // Hide all game containers
            document.getElementById('snakeGameContainer').style.display = 'none';
            document.getElementById('dinoGameContainer').style.display = 'none';
            document.getElementById('tetrisGameContainer').style.display = 'none';
            
            // Hide all controls
            hideAllControls();
            
            currentGame = null;

            // Add id to the video element:
            const gameBgVideo = document.getElementById('gameBgVideo');
            if (gameBgVideo) gameBgVideo.style.display = '';
        }

        function hideAllControls() {
            document.getElementById('snakeUp').style.display = 'none';
            document.getElementById('snakeLeft').style.display = 'none';
            document.getElementById('snakeDown').style.display = 'none';
            document.getElementById('snakeRight').style.display = 'none';
            document.getElementById('dinoJump').style.display = 'none';
            document.getElementById('dinoReset').style.display = 'none';
            document.getElementById('tetrisLeft').style.display = 'none';
            document.getElementById('tetrisRot').style.display = 'none';
            document.getElementById('tetrisRight').style.display = 'none';
            document.getElementById('tetrisDrop').style.display = 'none';
        }

        function showSnakeControls() {
            document.getElementById('snakeUp').style.display = 'flex';
            document.getElementById('snakeLeft').style.display = 'flex';
            document.getElementById('snakeDown').style.display = 'flex';
            document.getElementById('snakeRight').style.display = 'flex';
        }

        function showDinoControls() {
            document.getElementById('dinoJump').style.display = 'flex';
            document.getElementById('dinoReset').style.display = 'flex';
        }

        function showTetrisControls() {
            document.getElementById('tetrisLeft').style.display = 'flex';
            document.getElementById('tetrisRot').style.display = 'flex';
            document.getElementById('tetrisRight').style.display = 'flex';
            document.getElementById('tetrisDrop').style.display = 'flex';
        }



        // Sound Effects using Web Audio API
        let soundEnabled = true;
        let audioContext = null;
        let hoverOscillator = null;

        // Retro Game Sound Effects
        function playRetroBeep(frequency = 800, duration = 0.1) {
            if (!soundEnabled || !audioContext) return;
            
            try {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                oscillator.type = 'square';
                
                gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + duration);
                
            } catch (e) {
                console.log('Sound error:', e);
            }
        }

        function playGameStart() {
            playRetroBeep(400, 0.2);
            setTimeout(() => playRetroBeep(600, 0.2), 200);
            setTimeout(() => playRetroBeep(800, 0.3), 400);
        }

        function playGameOver() {
            playRetroBeep(800, 0.1);
            setTimeout(() => playRetroBeep(600, 0.1), 100);
            setTimeout(() => playRetroBeep(400, 0.1), 200);
            setTimeout(() => playRetroBeep(200, 0.3), 300);
        }

        function playGameAction() {
            playRetroBeep(1000, 0.05);
        }

        function playGameSuccess() {
            playRetroBeep(600, 0.1);
            setTimeout(() => playRetroBeep(800, 0.1), 100);
            setTimeout(() => playRetroBeep(1000, 0.2), 200);
        }

        function initAudio() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            } catch (e) {
                console.log('Web Audio API not supported');
            }
        }

        function playHoverSound() {
            if (!soundEnabled || !audioContext) return;
            
            try {
                // Create a simple beep sound
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.1);
                
            } catch (e) {
                console.log('Sound error:', e);
            }
        }

        // TV Sound Toggle
        let tvSoundEnabled = true;
        function toggleTVSound() {
            tvSoundEnabled = !tvSoundEnabled;
            const tvVideo = document.getElementById('retroVideo');
            const tvSoundToggle = document.getElementById('tvSoundToggle');
            
            if (tvVideo) {
                tvVideo.muted = !tvSoundEnabled;
            }
            
            if (tvSoundToggle) {
                tvSoundToggle.textContent = tvSoundEnabled ? '🔊' : '🔇';
                tvSoundToggle.style.background = tvSoundEnabled ? '#ff0000' : '#666666';
            }
        }

        function toggleSound() {
            soundEnabled = !soundEnabled;
            const soundToggle = document.getElementById('soundToggle');
            if (soundToggle) {
                soundToggle.textContent = soundEnabled ? '🔊' : '🔇';
            }
            console.log('Sound ' + (soundEnabled ? 'enabled' : 'disabled'));
        }

        // Video Player Functions
        let currentVideoIndex = 0;
        const videoList = [
            { src: 'tomokxilk.mp4', name: 'Tomok' },
            { src: 'mrbeanxilk.mp4', name: 'Mr. Bean' }
        ];

        function loadVideo() {
            const videoUrl = prompt('Please enter the video URL:');
            if (videoUrl) {
                const video = document.getElementById('retroVideo');
                const source = video.querySelector('source');
                source.src = videoUrl;
                video.load();
                video.style.display = 'block';
                document.getElementById('videoPlaceholder').style.display = 'none';
            }
        }

        function nextVideo() {
            currentVideoIndex = (currentVideoIndex + 1) % videoList.length;
            const video = document.getElementById('retroVideo');
            const source = video.querySelector('source');
            const currentVideo = videoList[currentVideoIndex];
            
            source.src = currentVideo.src;
            video.load();
            video.play().catch(e => console.log('Video autoplay failed:', e));
            
            // Play hover sound
            playHoverSound();
            
            // Show video name briefly
            showVideoName(currentVideo.name);
        }

        function showVideoName(name) {
            // Create or update video name display
            let nameDisplay = document.getElementById('videoNameDisplay');
            if (!nameDisplay) {
                nameDisplay = document.createElement('div');
                nameDisplay.id = 'videoNameDisplay';
                nameDisplay.style.cssText = `
                    position: absolute;
                    top: 10px;
                    left: 10px;
                    background: rgba(0, 0, 0, 0.8);
                    color: white;
                    padding: 8px 12px;
                    border-radius: 6px;
                    font-family: 'Cascadia Code', monospace;
                    font-size: 12px;
                    z-index: 15;
                    opacity: 0;
                    transition: opacity 0.3s ease;
                `;
                document.querySelector('.gameboy-game').appendChild(nameDisplay);
            }
            
            nameDisplay.textContent = name;
            nameDisplay.style.opacity = '1';
            
            setTimeout(() => {
                nameDisplay.style.opacity = '0';
            }, 2000);
        }




        // Typing Animation - One letter at a time with mechanical red switch sound and cursor
        function typeLetters(element, text, letterDelay = 100, withSound = true, withCursor = true, callback) {
            let letterIndex = 0;
            element.innerHTML = '';
            function typeLetter() {
                if (letterIndex < text.length) {
                    let typed = text.slice(0, letterIndex + 1);
                    if (withCursor) {
                        element.innerHTML = typed + '<span class="typing-cursor"></span>';
                    } else {
                        element.innerHTML = typed;
                    }
                    
                    // Play mechanical red switch sound for each character
                    if (withSound && soundEnabled && audioContext) {
                        playMechanicalSwitchSound();
                    }
                    
                    letterIndex++;
                    setTimeout(typeLetter, letterDelay);
                } else {
                    element.innerHTML = text;
                    if (typeof callback === 'function') callback();
                }
            }
            if (withCursor) {
                element.innerHTML = '<span class="typing-cursor"></span>';
            }
            typeLetter();
        }

        // "Khat khat" mechanical sound effect
        function playMechanicalSwitchSound() {
            try {
                const now = audioContext.currentTime;
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                const filter = audioContext.createBiquadFilter();
                const compressor = audioContext.createDynamicsCompressor();
                
                oscillator.connect(filter);
                filter.connect(compressor);
                compressor.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                // "Khat khat" sound characteristics - more percussive and sharp
                const baseFreq = 1200 + Math.random() * 600; // 1200-1800Hz for sharp "khat" sound
                oscillator.frequency.setValueAtTime(baseFreq, now);
                oscillator.type = 'square'; // More percussive sound
                
                // Filter for "khat khat" character
                filter.type = 'bandpass';
                filter.frequency.setValueAtTime(1500, now);
                filter.Q.setValueAtTime(8, now); // Sharp resonance
                
                // Compressor for punchy "khat" effect
                compressor.threshold.setValueAtTime(-20, now);
                compressor.knee.setValueAtTime(10, now);
                compressor.ratio.setValueAtTime(8, now);
                compressor.attack.setValueAtTime(0.001, now);
                compressor.release.setValueAtTime(0.05, now);
                
                // Gain envelope for "khat khat" - 50% volume
                gainNode.gain.setValueAtTime(0.5, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.06);
                
                oscillator.start(now);
                oscillator.stop(now + 0.06);
                
            } catch (e) {
                console.log('Khat khat sound error:', e);
            }
        }

        // Typing sound effect (mechanical, lighter, sophisticated)
        function playTypingSound() {
            try {
                const now = audioContext.currentTime;
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                // Mechanical click: short, high, with a bit of randomness
                const baseFreq = 3200 + Math.random() * 200; // 3200-3400Hz
                oscillator.frequency.setValueAtTime(baseFreq, now);
                oscillator.type = 'triangle';
                gainNode.gain.setValueAtTime(0.08, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.045);
                oscillator.start(now);
                oscillator.stop(now + 0.045);
            } catch (e) {
                console.log('Typing sound error:', e);
            }
        }

        // "Don't Click It" Popup Function
        function showDontClickPopup() {
            const offlineText = document.getElementById('offlineText');
            if (!offlineText) return;
            
            const rect = offlineText.getBoundingClientRect();
            
            // Create popup container
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: ${rect.top + (rect.height / 2) - 25}px;
                left: ${rect.right + 15}px;
                background: linear-gradient(135deg, rgba(255, 0, 0, 0.9) 0%, rgba(200, 0, 0, 0.8) 100%);
                color: white;
                padding: 12px 16px;
                border-radius: 8px;
                border: 2px solid rgba(255, 255, 255, 0.3);
                box-shadow: 0 0 20px rgba(255, 0, 0, 0.6), 0 4px 15px rgba(0, 0, 0, 0.3);
                backdrop-filter: blur(10px);
                font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
                font-size: 14px;
                font-weight: 600;
                text-align: center;
                max-width: 200px;
                z-index: 1000;
                animation: dontClickPopup 0.5s ease-out;
                cursor: default;
            `;
            
            // Add arrow pointing to the text
            popup.innerHTML = `
                <div style="position: absolute; left: -8px; top: 50%; transform: translateY(-50%); width: 0; height: 0; border-top: 8px solid transparent; border-bottom: 8px solid transparent; border-right: 8px solid rgba(255, 0, 0, 0.9);"></div>
                <div style="position: absolute; left: -6px; top: 50%; transform: translateY(-50%); width: 0; height: 0; border-top: 6px solid transparent; border-bottom: 6px solid transparent; border-right: 6px solid rgba(200, 0, 0, 0.8);"></div>
                <div style="position: relative; z-index: 1;">&lt; / &gt; Don't dare to click this!</div>
            `;
            
            // Add animation CSS
            const style = document.createElement('style');
            style.textContent = `
                @keyframes dontClickPopup {
                    0% { 
                        opacity: 0; 
                        transform: scale(0.8) translateX(-10px); 
                    }
                    100% { 
                        opacity: 1; 
                        transform: scale(1) translateX(0); 
                    }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(popup);
            
            // Play hover sound effect
            playHoverSound();
            
            // Remove popup after 4 seconds
            setTimeout(() => {
                popup.style.animation = 'dontClickPopup 0.3s ease-in reverse';
                setTimeout(() => {
                    if (document.body.contains(popup)) {
                        document.body.removeChild(popup);
                    }
                    if (document.head.contains(style)) {
                        document.head.removeChild(style);
                    }
                }, 300);
            }, 4000);
        }

        // Random Jokes Function
        function showRandomJoke() {
            const jokes = [
                "Why don't programmers like nature? It has too many bugs.",
                "Why did the scarecrow win an award? He was outstanding in his field!",
                "What do you call a bear with no teeth? A gummy bear!",
                "Why don't eggs tell jokes? They'd crack each other up!",
                "What do you call a fake noodle? An impasta!",
                "Why did the math book look so sad? Because it had too many problems!",
                "What do you call a can opener that doesn't work? A can't opener!",
                "Why don't skeletons fight each other? They don't have the guts!",
                "What do you call a fish wearing a bowtie? So-fish-ticated!",
                "Why did the cookie go to the doctor? Because it was feeling crumbly!",
                "What do you call a bear with no teeth? A gummy bear!",
                "Why don't scientists trust atoms? Because they make up everything!",
                "What do you call a dinosaur that crashes his car? Tyrannosaurus wrecks!",
                "Why did the golfer bring two pairs of pants? In case he got a hole in one!",
                "What do you call a sleeping bull? A bulldozer!"
            ];
            
            const randomJoke = jokes[Math.floor(Math.random() * jokes.length)];
            
            // Get logo position - check both header and main logo
            let logo = document.getElementById('xilkLogoImg') || document.getElementById('xilkLogoMain');
            if (!logo) {
                // Fallback to any element with xilkLogo in the id
                logo = document.querySelector('[id*="xilkLogo"]');
            }
            const logoRect = logo.getBoundingClientRect();
            
            // Create a temporary popup
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: ${logoRect.top - 20}px;
                left: ${logoRect.right + 20}px;
                background: linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(15, 23, 42, 0.8) 100%);
                color: #ffffff;
                padding: 15px 20px;
                border-radius: 12px;
                border: 2px solid rgba(0, 191, 255, 0.5);
                box-shadow: 0 0 30px rgba(0, 191, 255, 0.6), 0 10px 40px rgba(0, 0, 0, 0.5);
                backdrop-filter: blur(20px);
                font-family: 'Cascadia Code', 'Consolas', 'Monaco', 'Courier New', monospace;
                font-size: 14px;
                text-align: center;
                max-width: 300px;
                z-index: 1000;
                animation: jokePopup 0.5s ease-out;
            `;
            
            // Add arrow pointing to logo
            popup.innerHTML = `
                <div style="position: absolute; left: -8px; top: 50%; transform: translateY(-50%); width: 0; height: 0; border-top: 8px solid transparent; border-bottom: 8px solid transparent; border-right: 8px solid rgba(0, 191, 255, 0.5);"></div>
                <div style="position: absolute; left: -6px; top: 50%; transform: translateY(-50%); width: 0; height: 0; border-top: 6px solid transparent; border-bottom: 6px solid transparent; border-right: 6px solid rgba(0, 0, 0, 0.9);"></div>
                ${randomJoke}
            `;
            
            // Add animation CSS
            const style = document.createElement('style');
            style.textContent = `
                @keyframes jokePopup {
                    0% { opacity: 0; transform: scale(0.8) translateX(-10px); }
                    100% { opacity: 1; transform: scale(1) translateX(0); }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(popup);
            
            // Play sound effect
            playHoverSound();
            
            // Remove popup after 4 seconds
            setTimeout(() => {
                popup.style.animation = 'jokePopup 0.3s ease-in reverse';
                setTimeout(() => {
                    document.body.removeChild(popup);
                    document.head.removeChild(style);
                }, 300);
            }, 4000);
        }

        // Event listeners for new games
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize audio context on first user interaction
            initAudio();
            
            // Initialize audio on first click/touch
            document.addEventListener('click', function() {
                if (audioContext && audioContext.state === 'suspended') {
                    audioContext.resume();
                }
            }, { once: true });
            const startSnakeBtn = document.getElementById('startSnakeBtn');
            const startDinoBtn = document.getElementById('startDinoBtn');
            const startTetrisBtn = document.getElementById('startTetrisBtn');
            
            if (startSnakeBtn) {
                startSnakeBtn.addEventListener('click', initGame);
                startSnakeBtn.addEventListener('mouseenter', playHoverSound);
            }
            
            if (startDinoBtn) {
                startDinoBtn.addEventListener('click', initDinoGame);
                startDinoBtn.addEventListener('mouseenter', playHoverSound);
            }
            
            if (startTetrisBtn) {
                startTetrisBtn.addEventListener('click', initTetrisGame);
                startTetrisBtn.addEventListener('mouseenter', playHoverSound);
            }

            // Add hover sound to all buttons
            const allButtons = document.querySelectorAll('button');
            allButtons.forEach(button => {
                button.addEventListener('mouseenter', playHoverSound);
            });

            // Add hover sound to social links
            const socialLinks = document.querySelectorAll('a[href*="t.me"], a[href*="x.com"], a[href*="instagram.com"]');
            socialLinks.forEach(link => {
                link.addEventListener('mouseenter', playHoverSound);
            });

            // Add hover sound to control buttons
            const controlButtons = document.querySelectorAll('.control-btn');
            controlButtons.forEach(btn => {
                btn.addEventListener('mouseenter', playHoverSound);
            });

            // Add hover sound to XILK logo
            const xilkLogo = document.getElementById('xilkLogo');
            if (xilkLogo) {
                xilkLogo.addEventListener('mouseenter', playHoverSound);
            }

            // Add hover sound to TV sound toggle
            const tvSoundToggle = document.getElementById('tvSoundToggle');
            if (tvSoundToggle) {
                tvSoundToggle.addEventListener('mouseenter', playHoverSound);
            }

            // Add hover sound to next video button
            const nextVideoBtn = document.getElementById('nextVideoBtn');
            if (nextVideoBtn) {
                nextVideoBtn.addEventListener('mouseenter', playHoverSound);
            }

            // Initialize TV video
            const retroVideo = document.getElementById('retroVideo');
            if (retroVideo) {
                retroVideo.addEventListener('loadeddata', function() {
                    console.log('Tomok video loaded successfully');
                });
                retroVideo.addEventListener('error', function() {
                    console.log('Error loading tomokxilk.mp4');
                    document.getElementById('videoPlaceholder').style.display = 'block';
                });
            }

        });

        // Keyboard controls for all games
        document.addEventListener('keydown', (e) => {
            if (e.key === ' ') {
                e.preventDefault();
                dinoJump();
            }
            
            if (tetrisGameRunning) {
                switch(e.key) {
                    case 'ArrowLeft': tetrisMove('left'); break;
                    case 'ArrowRight': tetrisMove('right'); break;
                    case 'ArrowDown': tetrisDrop(); break;
                    case 'ArrowUp': tetrisRotate(); break;
                }
            }
        });

        // Add this function to play a short snippet of 1059.mp3 for each character
        function playCustomTypingSound() {
            const audio = document.getElementById('offlineAudio');
            if (audio) {
                try {
                    audio.pause();
                    audio.currentTime = 0;
                    audio.play();
                } catch (e) {
                    // ignore
                }
            }
        }

        // Remove mechanical keyboard sound from all typing animations by setting withSound to false everywhere typeLetters is called.
        // Play 1059.mp3 once, automatically, as soon as the page loads.

        window.addEventListener('load', function() {
            const offlineAudio = document.getElementById('offlineAudio');
            if (offlineAudio) {
                offlineAudio.pause();
                offlineAudio.currentTime = 0;
                offlineAudio.play();
            }
        });

        // Start with Welcome Aboard! animation
        setTimeout(() => {
            const welcomeTitle = document.getElementById('welcomeTitle');
            if (welcomeTitle) {
                typeLetters(welcomeTitle, 'Welcome Aboard!', 120, true, true, function() {
                    // After Welcome Aboard! finishes, start the offline text animation
                    setTimeout(() => {
                        const offlineText = document.getElementById('offlineText');
                        if (offlineText) {
                            typeLetters(offlineText, 'XILK is probably offline.', 80, true, true, function() {
                                offlineText.style.cursor = 'pointer';
                                offlineText.onclick = function() {
                                    const clickAudio = document.getElementById('clickAudio');
                                    if (clickAudio) {
                                        clickAudio.pause();
                                        clickAudio.currentTime = 0;
                                        clickAudio.muted = false;
                                        clickAudio.volume = 1;
                                        clickAudio.play().catch(e => {
                                            console.log('Audio play error:', e);
                                        });
                                    }
                                };
                                
                                // Add "don't click it" popup arrow after typing completes
                                setTimeout(() => {
                                    showDontClickPopup();
                                }, 1000);
                            });
                            setTimeout(() => {
                                const enjoyText = document.getElementById('enjoyText');
                                if (enjoyText) {
                                    typeLetters(enjoyText, 'Meanwhile, scroll down to enjoy a game or a cartoon.', 60, true, true);
                                }
                            }, 2000);
                        }
                    }, 1000);
                });
            }
        }, 500);

        // Remove playCustomTypingSound definition if present.
        // Remove soundFn argument and logic from typeLetters if not used elsewhere.

        // Video popup functionality
        function showVideoPopup() {
            // Create popup container
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 10000;
                backdrop-filter: blur(10px);
            `;
            
            // Create video container with glowing border
            const videoContainer = document.createElement('div');
            videoContainer.style.cssText = `
                position: relative;
                width: 300px;
                height: 300px;
                border-radius: 50%;
                overflow: hidden;
                box-shadow: 
                    0 0 20px rgba(0, 191, 255, 0.8),
                    0 0 40px rgba(0, 191, 255, 0.6),
                    0 0 60px rgba(0, 191, 255, 0.4),
                    0 0 80px rgba(0, 191, 255, 0.2);
                border: 3px solid rgba(0, 191, 255, 0.8);
                animation: videoGlow 2s ease-in-out infinite alternate;
            `;
            
            // Create video element
            const video = document.createElement('video');
            video.style.cssText = `
                width: 100%;
                height: 100%;
                object-fit: cover;
                border-radius: 50%;
            `;
            video.src = 'okdon.mov';
            video.autoplay = true;
            video.loop = true;
            video.muted = false;
            video.volume = 0.7;
            video.playsInline = true;
            
            // Handle video loading and play
            video.addEventListener('loadeddata', function() {
                video.play().catch(function(error) {
                    console.log('Video autoplay failed:', error);
                    // Add a play button if autoplay fails
                    const playBtn = document.createElement('button');
                    playBtn.innerHTML = '▶';
                    playBtn.style.cssText = `
                        position: absolute;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        background: rgba(0, 191, 255, 0.8);
                        color: white;
                        border: none;
                        border-radius: 50%;
                        width: 60px;
                        height: 60px;
                        font-size: 24px;
                        cursor: pointer;
                        z-index: 10002;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        box-shadow: 0 0 15px rgba(0, 191, 255, 0.6);
                    `;
                    playBtn.addEventListener('click', function() {
                        video.play();
                        videoContainer.removeChild(playBtn);
                    });
                    videoContainer.appendChild(playBtn);
                });
            });
            
            video.addEventListener('error', function() {
                console.log('Video loading error');
                // Show error message
                const errorMsg = document.createElement('div');
                errorMsg.innerHTML = 'Video not found: okdon.mov';
                errorMsg.style.cssText = `
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    color: white;
                    text-align: center;
                    font-family: 'Cascadia Code', monospace;
                    z-index: 10002;
                `;
                videoContainer.appendChild(errorMsg);
            });
            
            // Create close button
            const closeBtn = document.createElement('button');
            closeBtn.innerHTML = '×';
            closeBtn.style.cssText = `
                position: absolute;
                top: 20px;
                right: 20px;
                background: rgba(255, 0, 0, 0.8);
                color: white;
                border: none;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                font-size: 24px;
                cursor: pointer;
                z-index: 10001;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
            `;
            
            // Add glow animation CSS
            const style = document.createElement('style');
            style.textContent = `
                @keyframes videoGlow {
                    0% {
                        box-shadow: 
                            0 0 20px rgba(0, 191, 255, 0.8),
                            0 0 40px rgba(0, 191, 255, 0.6),
                            0 0 60px rgba(0, 191, 255, 0.4),
                            0 0 80px rgba(0, 191, 255, 0.2);
                    }
                    100% {
                        box-shadow: 
                            0 0 30px rgba(0, 191, 255, 1),
                            0 0 60px rgba(0, 191, 255, 0.8),
                            0 0 90px rgba(0, 191, 255, 0.6),
                            0 0 120px rgba(0, 191, 255, 0.4);
                    }
                }
            `;
            document.head.appendChild(style);
            
            // Assemble popup
            videoContainer.appendChild(video);
            popup.appendChild(videoContainer);
            popup.appendChild(closeBtn);
            document.body.appendChild(popup);
            
            // Close functionality
            function closePopup() {
                video.pause();
                document.body.removeChild(popup);
                document.head.removeChild(style);
            }
            
            closeBtn.addEventListener('click', closePopup);
            popup.addEventListener('click', function(e) {
                if (e.target === popup) {
                    closePopup();
                }
            });
            
            // Auto-close after 11.89 seconds
            setTimeout(closePopup, 11890);
            
            // Play sound effect
            playHoverSound();
        }

        // In your script, add click listeners to offlineText and enjoyText:
        document.addEventListener('DOMContentLoaded', function() {
          const offlineText = document.getElementById('offlineText');
          const enjoyText = document.getElementById('enjoyText');
          const clickAudio = document.getElementById('clickAudio');
          
          function playClickAudio() {
            if (clickAudio) {
              clickAudio.pause();
              clickAudio.currentTime = 0;
              clickAudio.play();
            }
          }
          
          if (offlineText) {
              offlineText.addEventListener('click', function() {
                  playClickAudio();
                  showVideoPopup();
              });
          }
          if (enjoyText) {
              enjoyText.addEventListener('click', function() {
                  playClickAudio();
                  showVideoPopup();
              });
          }
        });

        // In your script, after the offlineText is animated, attach a click event to play 1051.mp3:
        document.addEventListener('DOMContentLoaded', function() {
          const offlineText = document.getElementById('offlineText');
          const clickAudio = document.getElementById('clickAudio');
          function playClickAudio() {
            if (clickAudio) {
              clickAudio.pause();
              clickAudio.currentTime = 0;
              clickAudio.play();
            }
          }
          if (offlineText) offlineText.addEventListener('click', playClickAudio);
        });

        // Fullscreen functionality
        function toggleFullscreen(type) {
            if (type === 'games') {
                const gameContainer = document.getElementById('gamesContainer');
                if (gameContainer) {
                    if (!document.fullscreenElement) {
                        gameContainer.requestFullscreen().catch(err => {
                            console.log('Error attempting to enable fullscreen:', err);
                        });
                    } else {
                        document.exitFullscreen();
                    }
                }
            } else if (type === 'tv') {
                const tvContainer = document.getElementById('tvContainer');
                if (tvContainer) {
                    if (!document.fullscreenElement) {
                        tvContainer.requestFullscreen().catch(err => {
                            console.log('Error attempting to enable fullscreen:', err);
                        });
                    } else {
                        document.exitFullscreen();
                    }
                }
            }
            
            // Play hover sound
            playHoverSound();
        }

        // Listen for fullscreen changes
        document.addEventListener('fullscreenchange', function() {
            const fullscreenElement = document.fullscreenElement;
            const gamesBtn = document.querySelector('.gameboy-controls .control-btn[onclick*="toggleFullscreen"]');
            const tvBtn = document.getElementById('tvFullscreenBtn');
            
            if (fullscreenElement) {
                // Entered fullscreen
                if (gamesBtn) gamesBtn.textContent = '⛶';
                if (tvBtn) tvBtn.textContent = '⛶';
            } else {
                // Exited fullscreen
                if (gamesBtn) gamesBtn.textContent = '⛶';
                if (tvBtn) tvBtn.textContent = '⛶';
            }
        });

        // Show cookie popup after 5 seconds if not accepted
        setTimeout(function() {
          if (!localStorage.getItem('cookieAccepted')) {
            document.getElementById('cookieConsent').style.display = 'block';
          }
        }, 5000);
        
        document.getElementById('acceptCookies').onclick = function() {
          localStorage.setItem('cookieAccepted', 'yes');
          document.getElementById('cookieConsent').style.display = 'none';
        };

        // In your script, add this after DOMContentLoaded:
        document.addEventListener('DOMContentLoaded', function() {
          const xilkLogo = document.getElementById('xilkLogo');
          if (xilkLogo) {
            xilkLogo.style.cursor = 'pointer';
            xilkLogo.onclick = function() {
              window.location.href = 'https://youtu.be/xvFZjo5PgG0?si=iNJFN0EqHkNMeb1Y';
            };
          }
        });

        // In your script, after DOMContentLoaded, add this:
        const headerXilkLogo = document.querySelector('header .xilk-logo#xilkLogo');
        if (headerXilkLogo) {
          headerXilkLogo.style.cursor = 'pointer';
          headerXilkLogo.onclick = function() {
            window.location.href = 'https://youtu.be/xvFZjo5PgG0?si=iNJFN0EqHkNMeb1Y';
          };
        }
        // Do not affect the circular image logo used for jokes.
    </script>
</body>
</html> 